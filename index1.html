<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="stylesheet1.css">
</head>

<body>
  <section class="section">
  	<h1>Wedding Register</h1>

    <ul class="steps">
     <progress class="steps-bar" min="0" max="100" value="0" step="33" aria-labelledby="steps-completion"></progress>
  		<li class="step stepIncomplete stepActive">
        <span class="stepIcon"></span>
        <span class="stepLabel">1</span>
      </li>
  		<li class="step stepIncomplete stepInactive">
        <span class="stepIcon"></span>
        <span class="stepLabel">2</span>
        </li>
  		<li class="step stepIncomplete stepInactive">
        <span class="stepIcon"></span>
        <span class="stepLabel">3</span>
        </li>
  		<li class="step stepIncomplete stepInactive">
        <span class="stepIcon"></span>
        <span class="stepLabel">4</span>
        </li>

  		<p id="steps-completion" class="js-steps-completion sr-only" aria-live="polite">0% complete</p>
  	</ul>

  	<div class="animation-container">
  		<!-- Step one -->
  		<div class="form-step js-form-step" data-step="1">

  			<p class="form-instructions" ><strong>Please fill in your details and hit next</strong><br></p>

  			<form action="" name="form-step-1">
  				<div class="fieldgroup">
  					<input type="text" name="firstName" id="firstName" />
  					<label for="firstName">First name</label>
  				</div>

  				<div class="fieldgroup">
  					<input type="text" name="lastName" id="lastName" />
  					<label for="lastName">Last name</label>
  				</div>

  				<div class="fieldgroup">
  					<input type="text" name="email" id="email" />
  					<label for="email">Email</label>
  				</div>

  				<div class="fieldgroup">
  					<input type="text" name="postalCode" id="postalCode" />
  					<label for="postalCode">Postal code</label>
  				</div>

  				<div class="buttons">
  							<button type="button" class="btn btn-alt js-reset">Reset</button>
                <div>&nbsp</div>
  						<button type="submit" class="btn">Continue</button>
  				</div>
  			</form>

  		</div>

  			<!-- Step two -->
  			<div class="form-step js-form-step waiting hidden" data-step="2">

  				<p class="form-instructions"><p class="form-instructions" ><strong>Please fill in your details and hit next</strong><br></p>

  				<form action="" name="form-step-2">
  						<div class="fieldgroup">
  								<input type="text" name="token" id="token" />
  								<label for="token">Token</label>
  						</div>

  						<div class="buttons">
  								<button type="button" class="btn btn-alt js-reset">Reset</button>
                  <div>&nbsp</div>
  								<button type="submit" class="btn">Continue</button>
  						</div>
  				</form>

  		</div>



  					<!-- Step three -->
  			<div class="form-step js-form-step waiting hidden" data-step="3">

  				<p class="form-instructions"><p class="form-instructions" ><strong>Please fill in your details and hit next</strong><br></p>

  				<form action="" name="form-step-3">
  						<div class="fieldgroup">
  								<input type="text" name="credit-card" id="credit-card" />
  								<label for="credit-card">Credit card number</label>
  						</div>

  						<div class="fieldgroup">
  								<input type="text" name="credit-card-expiry" id="credit-card-expiry" />
  								<label for="credit-card-expiry">Credit card expiry</label>
  						</div>

  						<div class="buttons">
  								<button type="button" class="btn btn-alt js-reset">Reset</button>
                  <div>&nbsp</div>
  								<button type="submit" class="btn">Continue</button>
  						</div>
  				</form>

  		</div>



  		<!-- Step four -->
  			<div class="form-step js-form-step waiting hidden" data-step="4">

  				<p class="form-instructions"><p class="form-instructions" ><strong>Please fill in your details and hit next</strong><br></p>

  				<form action="" name="form-step-4">
  						<div class="fieldgroup">
  								<input type="text" name="agreen" id="agreen" />
  								<label for="agreen">I agree</label>
  						</div>
  						<div class="buttons">
                <div>&nbsp</div>
                <div>&nbsp</div>
  								<button type="button" class="btn btn-alt js-reset">Reset</button>
  						</div>
  				</form>

  		</div>
  	</div>
  </section>

<script>
var $body = $('body');
var $progressBar = $('progress');
var $animContainer = $('.animation-container');
var value = 0;
var transitionEnd = 'webkitTransitionEnd transitionend';

// Resets the form back to the default state.

function formReset() {
	value = 0;
	$progressBar.val(value);
	$('form input').not('button').val('').removeClass('hasInput');
	$('.js-form-step').removeClass('left leaving');
	$('.js-form-step').not('.js-form-step[data-step="1"]').addClass('hidden waiting');
	$('.js-form-step[data-step="1"]').removeClass('hidden');
	$('.step').not('.one').removeClass('active');

	$animContainer.css({
		'paddingBottom': $('.js-form-step[data-step="1"]').height() + 'px'
	});

	console.warn('Form reset.');
	return false;
}

// Sets up the click handlers on the form. Next/reset.

function setupClickHandlers() {

	// Show next form on continue click
	$('button[type="submit"]').on('click', function(event) {
			event.preventDefault();
			var $currentForm = $(this).parents('.js-form-step');
			showNextForm($currentForm);
	});

	// Reset form on reset button click
	$('.js-reset').on('click', function() {
		formReset();
	});

	return false;
}

// Shows the next form.
// @param - Node - The current form.

function showNextForm($currentForm) {
	var currentFormStep = parseInt($currentForm.attr('data-step')) || false;
	var $nextForm = $('.js-form-step[data-step="' + (currentFormStep + 1) + '"]');

	console.log('Current step is ' + currentFormStep);
	console.log('The next form is # ' + $nextForm.attr('data-step'));

	$body.addClass('freeze');

	// Ensure top of form is in view
	$('html, body').animate({
		scrollTop : $progressBar.offset().top
	}, 'fast');

	// Hide current form fields
	$currentForm.addClass('leaving');
	setTimeout(function() {
		$currentForm.addClass('hidden');
	}, 500);

	// Animate container to height of form
	$animContainer.css({
		'paddingBottom' : $nextForm.height() + 'px'
	});

	// Show next form fields
	$nextForm.removeClass('hidden')
					 .addClass('coming')
					 .one(transitionEnd, function() {
						 $nextForm.removeClass('coming waiting');
					 });

	// Increment value (based on 4 steps 0 - 100)
	value += 33;

	// Reset if we've reached the end
	if (value >= 100) {
		formReset();
	} else {
		$('.steps')
			.find('.step.active')
			.next('.step')
			.addClass('active');

		// Set progress bar to the next value
		$progressBar.val(value);
	}

	// Update hidden progress descriptor (for a11y)
	$('.js-steps-completion').html($progressBar.val() + '% complete');

	$body.removeClass('freeze');

	return false;
}

// Sets up and handles the float labels on the inputs.
function setupFloatLabels() {
	// Check the inputs to see if we should keep the label floating or not
	$('form input').not('button').on('blur', function() {

		// Different validation for different inputs
		switch (this.tagName) {
			case 'SELECT':
				if (this.value > 0) {
					this.className = 'hasInput';
				} else {
					this.className = '';
				}
				break;

			case 'INPUT':
				if (this.value !== '') {
					this.className = 'hasInput';
				} else {
					this.className = '';
				}
				break;

			default:
				break;
		}
	});

	return false;
}

/* Starts */
function init() {
	formReset();
	setupFloatLabels();
	setupClickHandlers();
}

init();
</script>

</body>

</html>
